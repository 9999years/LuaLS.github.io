---
import Icon from "./Icon.astro";

export interface Props {
  type: "note" | "warning" | "important" | "WIP" | "deprecated" | "issue";
  display?: "inline" | "block";
}

const { type, display } = Astro.props;

const types = {
  note: { displayName: "Note", icon: "note-sticky" },
  warning: { displayName: "Warning", icon: "warning" },
  important: { displayName: "Important", icon: "exclamation" },
  WIP: { displayName: "WIP", icon: "pen-ruler" },
  deprecated: { displayName: "Deprecated", icon: "trash-can" },
  issue: {displayName: "Issue", icon: "circle-dot"}
};

const classList = [type, "remark", display ?? "block"];
---

<div class:list={classList}>
  <div>
    <Icon name={types[type].icon} group="solid" />
    {types[type].displayName}
  </div>
  <slot />
</div>

<style lang="scss">
  .remark {
    padding: 0.5em 1em;
    border-radius: 0.4em;
    border-width: 0.3em;
    border-style: outset;
    margin: 1em auto;
    width: fit-content;
    box-shadow: var(--remark-color) 1px 1px 15px 0px;
    border-color: var(--remark-color);
    background-color: color-mix(in srgb, var(--remark-color), #000000 50%);

    &.block {
      width: 90%;
    }

    &.note {
      --remark-color: #0099ff;
    }

    &.warning {
      --remark-color: #ffa600;
    }

    &.important {
      --remark-color: #e60000;
    }

    &.deprecated {
      --remark-color: #ff44ff;
    }

    &.WIP {
      --remark-color: #ffa600;
    }

    &.issue {
      --remark-color: #2ea043;
    }

    & > div {
      font-size: 1.1em;
      display: flex;
      gap: 0.5em;
      align-items: center;
      font-weight: bold;
    }

    i.fa-solid {
      font-size: 1.3em;
      color: color-mix(in srgb, var(--remark-color), white 60%);
    }

    & > :global(p) {
      margin: 0.5em auto 0.2em auto;
    }
  }
</style>
